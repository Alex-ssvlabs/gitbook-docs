# Configuration

### **Config** <a href="#_8g1ms1c4pyb0" id="_8g1ms1c4pyb0"></a>

When using .env it is necessary to create config.yaml (can be empty) and env will override it.\


| **Required** | **Yaml key**       | **Env key**           | **Default** | **Options** | **Description**                                                                    |
| ------------ | ------------------ | --------------------- | ----------- | ----------- | ---------------------------------------------------------------------------------- |
| ✓            | OperatorPrivateKey | OPERATOR\_KEY         | Empty       | Base64      | Operator private key, used to decrypt contract events, generated during node setup |
| X            | EnableProfile      | ENABLE\_PROFILE       | False       | Bool        | Enables go profiling tools                                                         |
| X            | MetricsAPIPort     | METRICS\_API\_PORT    | Empty       | Int         | Metric API port                                                                    |
| X            | NetworkPrivateKey  | NETWORK\_PRIVATE\_KEY | Empty       | String      | libP2P PK if left empty will be generated by the node                              |
| X            | ReadOnlyMode       | READ\_ONLY\_MODE      | False       | Bool        | Run node in “read-only” mode. Node will not perform duties.                        |

#### &#x20;<a href="#_lyywjxhb9ced" id="_lyywjxhb9ced"></a>

**Global (Yaml Parent Key)**

| **Required** | **Yaml Key**   | **Env Key**        | **Default**      | **Options**                                                                                                                                                  | **Description**               |
| ------------ | -------------- | ------------------ | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------ | ----------------------------- |
| X            | LogLevel       | LOG\_LEVEL         | info - (default) | Info, Debug, Warn, Error, Dpanic, Panic, Fatal                                                                                                               | Defines logger's log level    |
| X            | LogFormat      | LOG\_FORMAT        | console          | <p>console - (default) prints logs in JS (?) format</p><p>json - prints logs in JSON format</p>                                                              | Defines logger's encoding     |
| X            | LogLevelFormat | LOG\_LEVEL\_FORMAT | capitalColor     | <p>capitalColor - (default) prints all logs in capitol with color</p><p>capital - prints all logs in capitals</p><p>lowercase - prints logs in lowercase</p> | Defines logger's level format |

#### &#x20;<a href="#_il3rqpxpab3g" id="_il3rqpxpab3g"></a>

**DB (Yaml Parent Key)**

| **Required** | **Yaml Key** | **Env Key**   | **Default** | **Options**                     | **Description**                            |
| ------------ | ------------ | ------------- | ----------- | ------------------------------- | ------------------------------------------ |
| X            | Type         | DB\_TYPE      | badger-db   | badger-db,Badger-memory         | DB type can be either on disk or in memory |
| X            | Path         | DB\_PATH      | ./data/db   | accepts any path in the machine | Storage path                               |
| X            | Reporting    | DB\_REPORTING | false       | Bool                            | Define to toggle db logs reporting         |

#### &#x20;<a href="#_jtj9vmiqjmdy" id="_jtj9vmiqjmdy"></a>

**SSV (Yaml Parent Key)**

| **Required** | **Yaml Key** | **Env Key**    | **Default** | **Options** | **Description**                                                   |
| ------------ | ------------ | -------------- | ----------- | ----------- | ----------------------------------------------------------------- |
| X            | GenesisEpoch | GENESIS\_EPOCH | 0           | Uint64 val  | Sets the epoch at which the operator will start performing duties |
| X            | DutyLimit    | DUTY\_LIMIT    | 32          | Uint64 val  | Max slots to wait for duty to start                               |

**ValidatorOptions (NOT Required)**

| **Required** | **Yaml Key**               | **Env Key**                    | **Default** | **Options**                                                                  | **Description**                                        |
| ------------ | -------------------------- | ------------------------------ | ----------- | ---------------------------------------------------------------------------- | ------------------------------------------------------ |
| X            | SignatureCollectionTimeout | SIGNATURE\_COLLECTION\_TIMEOUT | 5s          | <p>Ms (milliseconde)</p><p>s (secondes)</p><p>M (minutes)</p><p>H (hour)</p> | Timeout for signature collection after consensus       |
| X            | MetadataUpdateInterval     | METADATA\_UPDATE\_INTERVAL     | 12m         | <p>Ms (milliseconde)</p><p>s (secondes)</p><p>M (minutes)</p><p>H (hour)</p> | Interval for updating validator metadata               |
| X            | HistorySyncRateLimit       | HISTORY\_SYNC\_BACKOFF         | 200ms       | <p>Ms (milliseconde)</p><p>s (secondes)</p><p>M (minutes)</p><p>H (hour)</p> | Process sync messages backoff (delay between messages) |

**Shares**

(For testing purposes! All values Required when testing)

| **Required** | **Yaml Key** | **Env Key**           | **Default** | **Options**                                                                                                                                                                                      | **Description**                 |
| ------------ | ------------ | --------------------- | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------- |
| ✓            | NodeID       | NodeID                | -           | Int                                                                                                                                                                                              | Local share node ID             |
| ✓            | PublicKey    | LOCAL\_NODE\_ID       | -           | String                                                                                                                                                                                           | Local validator public key      |
| ✓            | ShareKey     | LOCAL\_SHARE\_KEY     | -           | String                                                                                                                                                                                           | Local share key                 |
| ✓            | Committee    | LOCAL\_COMMITTEE      | -           | <p>map[string]int</p><p><br>Example -<br><a href="https://github.com/ssvlabs/ssv/blob/main/config/example_share.yaml">https://github.com/ssvlabs/ssv/blob/main/config/example_share.yaml</a></p> | Local validator committee array |
| ✓            | OwnerAddress | LOCAL\_OWNER\_ADDRESS | -           | ETH1 address                                                                                                                                                                                     | Local validator owner address   |

#### &#x20;<a href="#_u0jirte1ig08" id="_u0jirte1ig08"></a>

**ETH1 (Yaml Parent Key)**

| **Required** | **Yaml Key**          | **Env Key**                   | **Default**                                | **Options**                                                                  | **Description**                                                     |
| ------------ | --------------------- | ----------------------------- | ------------------------------------------ | ---------------------------------------------------------------------------- | ------------------------------------------------------------------- |
| ✓            | ETH1Addr              | ETH\_1\_ADDR                  | -                                          | WS Url                                                                       | ETH1 node WebSocket address                                         |
| X            | ETH1SyncOffset        | ETH\_1\_SYNC\_OFFSET          | 4e706f                                     | String (bytes representing block number)                                     | block number to sync from                                           |
| X            | ETH1ConnectionTimeout | ETH\_1\_CONNECTION\_TIMEOUT   | 10s                                        | <p>Ms (milliseconde)</p><p>s (secondes)</p><p>M (minutes)</p><p>H (hour)</p> | eth1 node connection timeout                                        |
| ✓            | RegistryContractAddr  | REGISTRY\_CONTRACT\_ADDR\_KEY | 0xAfdb141Dd99b5a101065f40e3D7636262dce65b3 | Eth1 contract address                                                        | registry contract address                                           |
| X            | RegistryContractABI   | REGISTRY\_CONTRACT\_ABI       | -                                          | Hard coded By Supported contract address                                     | registry contract abi json file                                     |
| X            | CleanRegistryData     | CLEAN\_REGISTRY\_DATA         | False                                      | Bool                                                                         | Cleans registry contract data (validator shares) and forces re-sync |
| X            | AbiVersion            | ABI\_VERSION                  | 0                                          | <p>Int representing version -</p><p>0 (legacy)</p><p>1 (v2)</p>              | smart contract abi parser version                                   |

\
**ETH2 (Yaml Parent Key)**

| **Required** | **Yaml Key**   | **Env Key**        | **Default** | **Options**                                       | **Description**     |
| ------------ | -------------- | ------------------ | ----------- | ------------------------------------------------- | ------------------- |
| X            | Network        | NETWORK            | Prater      | <p>Prater</p><p>Mainnet (not yet)</p>             | Eth2 network type   |
| ✓            | BeaconNodeAddr | BEACON\_NODE\_ADDR | -           | Url with port. Supports with or without “http://” | Beacon Node Address |

**P2P (Yaml Parent Key)**

| **Required** | **Yaml Key**     | **Env Key**               | **Default**                                           | **Options**                                                                  | **Description**                                                                                                                |
| ------------ | ---------------- | ------------------------- | ----------------------------------------------------- | ---------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------ |
| X            | Enr              | ENR\_KEY                  | Blox boot node ENR                                    | ENR format                                                                   | ENR used in discovery                                                                                                          |
| X            | DiscoveryType    | DISCOVERY\_TYPE\_KEY      | dicv5                                                 | <ul><li>Discv5</li><li>Mdns</li></ul>                                        | Method to use in p2p discovery                                                                                                 |
| X            | TCPPort          | TCP\_PORT                 | 13001                                                 | Int                                                                          | p2p tcp port                                                                                                                   |
| X            | UDPPort          | UDP\_PORT                 | 12001                                                 | Int                                                                          | p2p udp port                                                                                                                   |
| X            | HostAddress      | HOST\_ADDRESS             | -                                                     | Ip address                                                                   | <p>External ip node is exposed for discovery</p><p>(No default unless When using MakeFile than fetching ip with resolver4)</p> |
| X            | HostDNS          | HOST\_DNS                 | -                                                     | DNS url                                                                      | External DNS node is exposed for discovery                                                                                     |
| X            | RequestTimeout   | P2P\_REQUEST\_TIMEOUT     | 5s                                                    | <p>Ms (milliseconde)</p><p>s (secondes)</p><p>M (minutes)</p><p>H (hour)</p> | BN (BeaconNode) requests time out.                                                                                             |
| X            | MaxBatchResponse | P2P\_MAX\_BATCH\_RESPONSE | 50                                                    | Int                                                                          | Maximum number of returned objects in a batch                                                                                  |
| X            | MaxPeers         | P2P\_MAX\_PEERS           | 250                                                   | Int                                                                          | maximum number of connected peers                                                                                              |
| X            | PubSubTraceOut   | PUBSUB\_TRACE\_OUT        | -                                                     | String                                                                       | File path to hold collected pubsub traces                                                                                      |
| X            | NetworkTrace     | NETWORK\_TRACE            | False                                                 | Bool                                                                         | A boolean flag to turn on network debugging                                                                                    |
| X            | ExporterPeerID   | EXPORTER\_PEER\_ID        | 16Uiu2HAkvaBh2xjstjs1koEx3jpBn5Hsnz7Bv8pE4SuwFySkiAuf | String                                                                       | peer id of exporter in order to avoid connection.                                                                              |
